# システム分析レポート：今日の献立アプリ（Condate）

## システム概要

このシステムは **「今日の献立アプリ（Condate）」** という、AI技術を活用した献立管理・提案アプリケーションです。

## 主な機能

### 1. 🤖 AI献立自動生成
- **ChatGPT API（GPT-3.5-turbo）** を使用して健康的な献立を自動生成
- データベースに今日の献立がない場合、自動でAIが献立を提案
- 生成された献立は自動的にデータベースに保存

### 2. 📸 画像からの献立抽出
- **GPT-4o（Vision API）** を使用して料理の写真から献立情報を自動識別
- ユーザーが料理の写真をアップロードすると、AIが自動で料理名や材料を抽出
- 画像解析結果をもとに献立データを登録可能

### 3. 📝 手動献立登録
- ユーザーが手動で献立を事前登録
- 主菜、副菜、汁物、ご飯物などの詳細情報を入力
- カテゴリ分類（和食、洋食、中華、その他）

### 4. 📊 献立履歴管理
- 過去の献立を日付順で一覧表示
- 各献立の詳細情報を確認可能

### 5. 📈 データ分析機能
- 満足度評価、カロリー、調理時間、栄養バランススコア、推定費用などの指標を記録
- 回帰分析用のデータフィールドを実装

## 技術構成

### フロントエンド
- **Next.js 15** - React フレームワーク
- **TypeScript** - 型安全性
- **Tailwind CSS** - スタイリング
- レスポンシブデザイン対応

### バックエンド
- **Next.js API Routes** - RESTful API
- **Prisma ORM** - データベース操作
- **SQLite** - データベース

### AI・機械学習
- **OpenAI GPT-3.5-turbo** - 献立生成
- **OpenAI GPT-4o** - 画像解析
- 回帰分析用データ収集

### デプロイメント
- **Vercel** 対応（vercel.json設定済み）

## データベーススキーマ

```prisma
model Menu {
  id          String   // ユニークID
  date        DateTime // 献立日付
  mainDish    String   // 主菜
  sideDish    String?  // 副菜（任意）
  soup        String?  // 汁物（任意）
  rice        String?  // ご飯物（任意）
  category    String   // カテゴリ（和食、洋食など）
  description String?  // 説明（任意）
  
  // 分析用フィールド
  rating      Float?   // 満足度評価 (1-5)
  calories    Int?     // 総カロリー
  cookingTime Int?     // 調理時間（分）
  nutritionScore Float? // 栄養バランススコア (1-10)
  cost        Int?     // 推定費用（円）
  
  createdAt   DateTime // 作成日時
  updatedAt   DateTime // 更新日時
}
```

## API エンドポイント

- `GET /api/menu/today` - 今日の献立取得（AIが自動生成）
- `GET /api/menu` - 献立一覧取得
- `POST /api/menu` - 献立作成
- `POST /api/menu/extract-from-image` - 画像から献立抽出
- `POST /api/analysis/regression` - 回帰分析

## システムの特徴

### 1. ユーザビリティ
- 直感的でモダンなUI
- アニメーション効果（フェードイン、スライド、ホバー）
- 絵文字とグラデーションを使用した視覚的魅力

### 2. 自動化
- 手動入力の負担を軽減するAI活用
- 画像からの自動データ抽出
- 健康的な献立の自動提案

### 3. データ分析
- 献立の満足度や栄養バランスなどの指標収集
- 将来的な機械学習モデル構築のためのデータ蓄積

## まとめ

このシステムは、**AI技術を活用した次世代の献立管理アプリ**です。単なる献立記録ツールではなく、ChatGPTの自然言語処理能力とGPT-4oの画像認識能力を組み合わせて、ユーザーの献立計画を効率化し、健康的な食生活をサポートする包括的なソリューションとなっています。